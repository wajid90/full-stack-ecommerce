<div class="container mx-auto px-4 py-6">
    <!-- Filters -->
    <div class="flex flex-wrap gap-4 items-center mb-6">
      <!-- Search -->
      <input
        type="text"
        placeholder="Search products"
        [(ngModel)]="search"
        (input)="filterProducts()"
        class="w-full md:w-1/3 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
      />
  
      <!-- Category Filter -->
      <select
        [(ngModel)]="selectedCategoryId"
        (change)="filterProducts()"
        class="w-full md:w-1/4 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
      >
      <option value="">
       choose category
      </option>
        <option *ngFor="let category of categories" [value]="category._id">
          {{ category.name }}
        </option>
      </select>
  
      <!-- Brand Filter -->
      <select
        [(ngModel)]="selectedBrandId"
        (change)="filterProducts()"
        class="w-full md:w-1/4 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
      >
       <option value="">
        choose brand
       </option>
        <option *ngFor="let brand of brands" [value]="brand._id">
          {{ brand.name }}
        </option>
      </select>
  
      <!-- Sort By -->
      <select
        [(ngModel)]="sortBy"
        (change)="filterProducts()"
        class="w-full md:w-1/4 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
      >
        <option value="priceAsc">Price: Low to High</option>
        <option value="priceDesc">Price: High to Low</option>
        <option value="newArrivals">New Arrivals</option>
        <option value="rating">Highest Rating</option>
      </select>
  
      <!-- Reset Filters -->
      <button
        (click)="resetFilters()"
        class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600"
      >
        Reset Filters
      </button>
    </div>
  
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
        @for(product of filteredProducts;track $index){
            <app-product-card [product]="product"></app-product-card>
        }
      </div>
  
  
    <!-- Pagination -->
    <div class="flex justify-center items-center mt-6">
      <button
        (click)="changePage(currentPage - 1)"
        [disabled]="currentPage === 1"
        class="bg-gray-200 hover:bg-gray-300 py-2 px-4 rounded mr-2"
      >
        Previous
      </button>
      <p>Page {{ currentPage }} of {{ totalPages }}</p>
      <button
        (click)="changePage(currentPage + 1)"
        [disabled]="currentPage === totalPages"
        class="bg-gray-200 hover:bg-gray-300 py-2 px-4 rounded ml-2"
      >
        Next
      </button>
    </div>
  </div>
  